/**
 *  blobs.js
 *  Functions related to retrieving blob data
 */
const execLookup = require('../lookup/lookup'); 
const EMPTY_FILE_HASH = "e69de29bb2d1d6434b8b29ae775ad8c2e48c5391";

/**
 * Based on Dr. Reid's b2ob, which uses WoC's lookup/getValues to retrieve old blobs 
 * @params sha1 - Sha1 hash of a blob
 * @returns An array of sha1 hashes of old blobs
 */
function b2ob(sha1) {
   execLookup(sha1, "getValues", "-f b2ob").then((ret) => {
       console.log(ret);
   });
}
/**
 * Based on Dr. Reid's b2ob_r, which recursively gets blobs in WoC using b2ob   mapping 
 * @params sha1 - Sha1 hash of a blob
 * @params list - List of blobs already found
 */
function b2ob_r(sha1, blobList) {
   b2ob(sha1); 
}

/**
 * Based on Dr. Reid's b2ob_r, which recursively gets blobs in WoC using b2ob   mapping 
 * @params sha1 - Sha1 hash of a blob
 * @params list - List of blobs already found
 */
function getBlobData(sha1) {
    const blobList = [EMPTY_FILE_HASH];
    b2ob_r(sha1, blobList);
    return blobList;
}

module.exports = {
    getBlobData
}