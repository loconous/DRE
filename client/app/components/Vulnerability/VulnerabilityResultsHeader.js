import React from "react";
import VulnerabilityStatCard from '../common/VulnerabilityStatCard';
import VulnerabilityProjectCard from "../common/VulnerabilityProjectCard";
import { Container, Row, Col } from "reactstrap";

const VulnerabilityResultsHeader = (props) => {
  return (
    <div className="header mb-5 pt-0">
      <Container fluid>
        <div className="header-body">
          <Row>
            <Col>
              <VulnerabilityStatCard
              title="Commits"
              stat={props.stats.map(blobInfo => blobInfo.numCommits).reduce((a,b) => a+b, 0)}
              icon="fa fa-code-branch"
              color="bg-danger"
              blurb="Total number of commits found"
              />
            </Col>
            <Col>
              <VulnerabilityStatCard
              title="Authors"
              stat={props.stats.map(blobInfo => blobInfo.numAuthors).reduce((a,b) => a+b, 0)}
              icon="fas fa-user-friends"
              color="bg-warning"
              blurb="Total number of authors found"
              />
            </Col>
            <Col>
              <VulnerabilityStatCard
              title="Deforked"
              stat={props.stats.map(blobInfo => blobInfo.totalDeforkedProjects).reduce((a,b) => a+b, 0)}
              icon="far fa-file-code"
              color="bg-success"
              blurb="Total number of deforked projects found"
              />
            </Col>
            <Col>
              <VulnerabilityStatCard
              title="Total Projects"
              stat = {stats.map((blobInfo) => blobInfo.totalProjects).reduce((a, b) => a+b, 0)}
              icon="far fa-folder"
              color="bg-info"
              blurb="Total number of projects found"
              />
            </Col>
          </Row>
        </div>
      </Container>
    </div>
  );
}
// class VulnerabilityResultsHeader extends React.Component {
//   constructor(props) {
//     super(props);
//     this.state = {
//       stats: props.stats
//       // ...props.stats
//     }
//   }

//   render() {
//     // let { stats } = this.state;
//     // const initialVal = 0;
//     // {stats.map((blobInfo) => {
//     //   blobInfo.totalProjects}).reduce((prevVal, currVal) => prevVal+currVal, initialVal)}
    
//     return (
//       <>
//         <div className="header mb-5 pt-0">
//           <Container fluid>
//             <div className="header-body">
//               {/* Card stats */}
//               <Row>
//                 <Col>
//                   <VulnerabilityStatCard
//                   title="Commits"
//                   // stat={this.state.commits}
//                   icon="fa fa-code-branch"
//                   color="bg-danger"
//                   blurb="Total number of commits found"
//                   />
//                 </Col>
//                 <Col>
//                   <VulnerabilityStatCard
//                   title="Authors"
//                   // stat={this.state.authors}
//                   icon="fas fa-user-friends"
//                   color="bg-warning"
//                   blurb="Total number of authors found"
//                   />
//                 </Col>
//                 <Col>
//                   <VulnerabilityStatCard
//                   title="Deforked"
//                   // stat={this.state.deforked}
//                   icon="far fa-file-code"
//                   color="bg-success"
//                   blurb="Total number of deforked projects found"
//                   />
//                 </Col>
//                 <Col>
//                   <VulnerabilityStatCard
//                   title="Total Projects"
//                   // stat={this.state.projects}
//                   // stat = {stats.map((blobInfo) => {
//                   //   blobInfo.totalProjects}).reduce((prevVal, currVal) => prevVal+currVal, 0)}
//                   icon="far fa-folder"
//                   color="bg-info"
//                   blurb="Total number of projects found"
//                   />
//                 </Col>
//               </Row>
//             </div>
//           </Container>
//         </div>
//       </>
//     );
//   }
// }

export default VulnerabilityResultsHeader;