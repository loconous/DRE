import React, { Component } from 'react';
import { withRouter } from "react-router-dom";
import { connect } from 'react-redux';
import Custom_InputBox from '../common/custom_inputbox';
import { Button } from '@mui/material';
import axios from "axios";

import {
	Card,
	CardBody,
} from "reactstrap";

class VulnerabilitySearchForm extends Component {
	state = 
	{
		filenames:["data","data1","data2"],
		input:""


	};

	getValue = (e) => {
		this.setState({name:e.target.value});
	}

	onChange = (e,new_value) => 
	{
		this.setState({name:new_value});
	}

	onSubmit = (e) =>
	{
		e.preventDefault();
		axios.post('/api/vulnerability', this.state)
		.then(response => console.log(response.data))
		.catch(error => console.error(error));
	}

	generatecard() {
			return(	
				<CardBody className="px-lg-5 py-lg-5">
					<form onSubmit={this.onSubmit}>
					<Custom_InputBox options={this.state.filenames} onChange={this.onChange}  /> 
					<br/>
					<Button type='submit'variant="contained" color="primary" >Submit</Button>
					</form>
				</CardBody>
			)
	}

	render() {
		return (
			  <Card className="bg-secondary shadow border-0" style={{ width: '30rem'}}>
		        {this.generatecard()}
			  </Card>
		);
	}
}

VulnerabilitySearchForm.propTypes = {
}

function mapStateToProps(state) {
	return {

	};
}

export default connect(mapStateToProps, {})(withRouter(VulnerabilitySearchForm));